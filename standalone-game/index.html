<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">

    <link rel="preload" as="font" href="assets/fonts/IBMPlexSans-light-latin.woff2">
    <link rel="preload" as="font" href="assets/fonts/IBMPlexMono-regular-latin.woff2">
    <link rel="preload" as="font" href="assets/fonts/IBMPlexMono-light-latin.woff2">

    <link rel="stylesheet" type="text/css" href="assets/css/global.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/game.css" />

    <title>ZZLE - Logic Game</title>
  </head>
  <body class="dark-theme">
    <noscript>You need to enable JavaScript to run this app.</noscript>

    <!-- Level Selector UI -->
    <div id="level-selector">
      <h3>Level Controls</h3>
      <select id="level-select">
        <option value="">Select Level...</option>
      </select>
      <button id="load-level-btn">Load Level</button>
      <button id="auto-solve-btn" class="auto-solve">Auto-Solve</button>
      <div id="solver-output"></div>
    </div>

    <!-- Game Container -->
    <div id="root">
      <nav id="nav-placeholder"></nav>
      <div id="game-container">
        <div class="game-wrapper">
          <div class="game-board-section">
            <canvas id="game-board" width="512" height="512"></canvas>
            <div class="game-info">
              <div class="info-row">
                <span class="label">Stars:</span>
                <span id="stars-count">0</span>
              </div>
              <div class="info-row">
                <span class="label">Steps:</span>
                <span id="steps-count">0</span>
              </div>
              <div class="info-row">
                <span class="label">Position:</span>
                <span id="position">-</span>
              </div>
              <div class="info-row">
                <span class="label">Direction:</span>
                <span id="direction">-</span>
              </div>
            </div>
          </div>

          <div class="game-controls-section">
            <div class="control-panel">
              <h3>Available Instructions</h3>
              <div id="palette-instructions"></div>
            </div>

            <div class="control-panel">
              <h3>Program Functions</h3>
              <div id="functions-container"></div>
            </div>

            <div class="control-panel">
              <h3>Execution Stack <span id="stack-size">(0)</span></h3>
              <div id="stack-display"></div>
            </div>

            <div class="button-row">
              <button id="run-btn" class="btn btn-run">▶ Run</button>
              <button id="step-btn" class="btn btn-step">⏯ Step</button>
              <button id="reset-btn" class="btn btn-reset">↻ Reset</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Game Scripts -->
    <script src="assets/js/game-engine.js"></script>
    <script src="assets/js/solver.js"></script>
    <script src="assets/js/ui.js"></script>
  </body>
</html>
